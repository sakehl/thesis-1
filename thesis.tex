%
% thesis.tex
%

\newcommand{\project}{$<<$project$>>$}
%\newcommand{\doctitle}{Crossing the Streams}
%\newcommand{\docsubtitle}{Functional Parallel Programming for Graphics Processing Units}
\newcommand{\doctitle}{Optimising data-parallel programs for SIMD architectures via program transformation}
\newcommand{\docsubtitle}{}
\newcommand{\doccontentsline}{Functional Programming for GPUs}

\input{preamble}

\begin{document}

% FRONT MATTER
% ~~~~~~~~~~~~

\frontmatter
\include{title}
\include{sections/i-disclaimer}
\include{sections/ii-declaration}

% Contents pages (only in book mode)
%
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Contents}
\tableofcontents\markboth{Contents}{Contents}

\cleardoublepage
\phantomsection
\renewcommand{\listfigurename}{Figures}
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures\markboth{\listfigurename}{\listfigurename}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\lstlistlistingname}
\lstlistoflistings\markboth{\lstlistlistingname}{\lstlistlistingname}
\addtocontents{lol}{\vspace{10pt}}

\cleardoublepage
\phantomsection
\renewcommand{\listtablename}{Tables}
\addcontentsline{toc}{chapter}{\listtablename}
\listoftables\markboth{\listtablename}{\listtablename}

\include{sections/iii-abstract}
\include{sections/iv-acknowledgements}

% MAIN MATTER
% ~~~~~~~~~~~

\mainmatter
\fancyhead[ER]{\small\textsc{\chaptername\ \thechapter}}
\fancyhead[OL]{\small\textsc{\sectionname\ \thesection}}

% Add chapter thumbs for the main matter section only. At the beginning of the
% back matter we stop displaying thumbs and revert to \oldchapter
%
\let\oldchapter\chapter
\renewcommand{\chapter}[1]{\oldchapter{#1}\addthumb{#1}{}{white}{black}}

\include{sections/01-introduction}
\include{sections/02-background}
\include{sections/03-design}
\include{sections/04-implementation}
\include{sections/05-optimisation}
\include{sections/06-results}
\include{sections/07-conclusion}

% BACK MATTER
% ~~~~~~~~~~~

\cleardoublepage
\stopthumb
\
\backmatter
\let\chapter\oldchapter
\fancyhead[ER]{}
\fancyhead[OL]{}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{thesis}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Index}
\printindex\markboth{Index}{Index}

\end{document}

